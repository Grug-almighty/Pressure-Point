*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:radial-gradient(circle at 20% 10%,#0f1d2d 0%,#081019 45%,#05080f 100%);
  color:#e8f1ff;
  font-family:"Trebuchet MS",system-ui,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;
  overflow:hidden;
}
#ui{position:relative;width:100vw;height:100vh}
canvas#game{display:block;width:100%;height:100%;background:#1b1a1a}

.overlay{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  background:linear-gradient(180deg,#152436 0%,#0f1a2a 100%);
  padding:18px;border-radius:16px;
  box-shadow:0 10px 0 #04070d,0 22px 38px rgba(0,0,0,0.55),inset 0 2px 0 rgba(255,255,255,0.12);
  color:#c7dcff;border:3px solid #04070d;
  backdrop-filter:saturate(1.05) blur(2px);
}
.overlay.small{padding:8px;font-size:13px}
#menu{width:460px;text-align:center}
#menu h1{font-size:28px;margin-bottom:8px;letter-spacing:1px;color:#48e0c2;text-shadow:0 2px 0 rgba(0,0,0,0.5)}
#menu .row,#menu .hint,#menu .class-desc,#menu .settings-row label,#menu .settings-row select{font-size:14px}
.row{margin:10px 0}
.label{display:inline-block;width:80px;text-align:right;margin-right:12px}
.danger-list{display:inline-flex;gap:8px}
.class-list{
  display:grid;grid-template-columns:repeat(3,1fr);gap:8px;max-height:220px;overflow:auto;
  padding:6px;border:3px solid #04070d;border-radius:12px;background:#111d2b;
  box-shadow:inset 0 2px 0 rgba(255,255,255,0.08);
}
.class-btn{
  display:flex;align-items:center;justify-content:space-between;gap:6px;
  padding:8px 10px;border-radius:10px;background:linear-gradient(180deg,#1a2c3f 0%,#132233 100%);
  cursor:pointer;border:3px solid #04070d;font-weight:800;color:#e8f1ff;
  box-shadow:0 4px 0 #04070d, inset 0 2px 0 rgba(255,255,255,0.08);
  font-size:12px;transition:transform .08s ease,filter .12s ease;
}
.class-btn:hover{filter:brightness(1.08)}
.class-btn:active{transform:translateY(2px);box-shadow:0 2px 0 #0b0b0b}
.class-btn.active{background:linear-gradient(180deg,#48e0c2 0%,#2dbba0 100%);color:#041018}
.class-btn .tag{font-size:10px;background:#1f3144;border:2px solid #04070d;border-radius:6px;padding:1px 4px;color:#9ec5ff}
.class-desc{margin-top:6px;font-size:12px;color:#b4c8e6;min-height:40px;line-height:1.25}
.danger-btn{
  width:48px;height:48px;border-radius:10px;display:flex;align-items:center;justify-content:center;
  background:linear-gradient(180deg,#1a2c3f 0%,#0f1928 100%);
  cursor:pointer;border:3px solid #04070d;font-weight:700;color:#e8f1ff;
  box-shadow:0 4px 0 #04070d, inset 0 2px 0 rgba(255,255,255,0.08);
  transition:transform .08s ease,filter .12s ease;
}
.danger-btn:hover{filter:brightness(1.06)}
.danger-btn:active{transform:translateY(2px);box-shadow:0 2px 0 #0b0b0b}
.danger-btn.locked{opacity:0.45;position:relative}
.danger-btn.locked::after{content:'LOCK';position:absolute;font-size:9px;color:#2b1e10;bottom:4px}
.danger-btn.active{background:linear-gradient(180deg,#48e0c2 0%,#2dbba0 100%);color:#041018}
#startBtn{
  background:linear-gradient(180deg,#48e0c2 0%,#2dbba0 100%);
  border:3px solid #04070d;padding:10px 18px;border-radius:10px;font-weight:800;
  cursor:pointer;box-shadow:0 4px 0 #04070d, inset 0 2px 0 rgba(255,255,255,0.12);
  transition:transform .08s ease,filter .12s ease;
}
#startBtn:hover{filter:brightness(1.05)}
#startBtn:active{transform:translateY(2px);box-shadow:0 2px 0 #0b0b0b}
.hint{font-size:12px;color:#9bb3d8;margin-top:8px}
.restart-btn{
  position:absolute;left:50%;top:70%;transform:translateX(-50%);
  background:linear-gradient(180deg,#48e0c2 0%,#2dbba0 100%);
  border:3px solid #04070d;padding:10px 18px;border-radius:10px;font-weight:800;
  cursor:pointer;box-shadow:0 4px 0 #04070d, inset 0 2px 0 rgba(255,255,255,0.12);
  transition:transform .08s ease,filter .12s ease;
}
.restart-btn:hover{filter:brightness(1.05)}
.restart-btn:active{transform:translateX(-50%) translateY(2px);box-shadow:0 2px 0 #0b0b0b}

/* HUD tweaks when drawing on canvas, additional CSS for fallback UI */
.hud-mini{position:absolute;left:12px;top:12px;background:rgba(0,0,0,0.35);padding:8px;border-radius:8px}

/* Shop clickable hint */
.shop-tip{position:absolute;right:12px;bottom:18px;background:rgba(0,0,0,0.45);padding:8px;border-radius:8px}

.settings-row{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:12px;font-size:12px}
.settings-row select{margin-left:6px;padding:4px 8px;border-radius:8px;border:2px solid #04070d;background:#1c2c3d;color:#e8f1ff;font-weight:700}
.settings-row label{display:flex;align-items:center;gap:6px;background:#1a2c3f;border:2px solid #04070d;border-radius:10px;padding:4px 8px;box-shadow:0 2px 0 #04070d;color:#c7dcff}

.pause-btn{position:absolute;right:16px;top:16px;background:linear-gradient(180deg,#48e0c2 0%,#2dbba0 100%);border:3px solid #04070d;padding:8px 14px;border-radius:10px;font-weight:800;cursor:pointer;box-shadow:0 4px 0 #04070d,inset 0 2px 0 rgba(255,255,255,0.12);transition:transform .08s ease,filter .12s ease;color:#041018}
.pause-btn:hover{filter:brightness(1.06)}
.pause-btn:active{transform:translateY(2px);box-shadow:0 2px 0 #04070d}
